{% extends "helpers/layout.html" %}
{% import "helpers/forms.html" as forms %}
{{ forms.whoami() }}
{% block content %}
{{ super() }}
{{ forms.navigation() }}
<form action="{{url_for('gm')}}" method="POST">
{% if is_cso_choose_processes %}
    {% if not is_gm_answered_on_questions %}
        {{ forms.render_tests(form, process_name) }}
        {% for field in form if field.type not in ["HiddenField", "CSRFTokenField"] %}
            {% if field.errors %}
                <ul class="errors">
                {% for error in field.errors %}
                    <li>{{error}}</li>
                {% endfor %}
                </ul>
            {% endif %}
        {% endfor %}
        {% if processes.has_next %}
            {{ form.next_page }}
        {% else %}
            {{ form.finish }}
        {% endif %}
        {{ form.hidden_tag() }}
    {% endif %}
{% else %}
    Тестирование окончено.
{% endif %}
</form>
{% endblock %}